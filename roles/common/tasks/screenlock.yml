---
- name: Disable screen lock in XFCE
  block:
    - name: Ensure xfconf-query is installed
      ansible.builtin.package:
        name: xfce4-settings
        state: present

    - name: Disable screensaver
      ansible.builtin.command: >
        xfconf-query -c xfce4-session -p /startup/screensaver/enabled -n -t bool -s false

    - name: Disable screen blanking and power management
      ansible.builtin.command: >
        xset s off && xset -dpms

    - name: Disable screen lock
      ansible.builtin.command: >
        xfconf-query -c xfce4-screensaver -p /lock/enabled -n -t bool -s false
